<%- include('header'); %>
<div class="container">
  <% if (authenticated) { %>
    <form action="update?id=<%= id %>" method="POST" enctype="multipart/form-data">
      <h2>Student Registration Form</h2>
      <div class="form-group">
        <label for="name">Name</label>
        <input class="form-control" name="name" type="text" value="<%= name %>">
      </div>
      <div class="form-group">
        <label for="password">Password</label>
        <input class="form-control" name="password" size="20" type="password" value="<%= password %>"/>
      </div>
      <div class="form-group">
        <label>Subjects</label>
        <div class="form-check">
          <input class="form-check-input" name="Algorithms" type="checkbox" value="Algorithms" <%= subjects.includes('Algorithms') ? 'checked' : '' %>>
          <label class="form-check-label" for="algorithmsCheck">Algorithms</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" name="OOP" type="checkbox" value="OOP" <%= subjects.includes('OOP') ? 'checked' : '' %>>
          <label class="form-check-label" for="oopCheck">OOP</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" name="DataStructures" value="DataStructures" type="checkbox" <%= subjects.includes('DataStructures') ? 'checked' : '' %>>
          <label class="form-check-label" for="dataStructuresCheck">Data Structures</label>
        </div>
      </div>
      <div class="form-group">
        <label>Credit Card</label>
        <div class="form-check">
          <input class="form-check-input" name="credit_card" type="radio" value="Visa" id="visaRadio" <%= credit_card === 'Visa' ? 'checked' : '' %>>
          <label class="form-check-label" for="visaRadio">Visa</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" name="credit_card" type="radio" value="Master Card" id="masterCardRadio" <%= credit_card === 'Master Card' ? 'checked' : '' %>>
          <label class="form-check-label" for="masterCardRadio">Master Card</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" name="credit_card" type="radio" value="American Express" id="amexRadio" <%= credit_card === 'American Express' ? 'checked' : '' %>>
          <label class="form-check-label" for="amexRadio">American Express</label>
        </div>
      </div>
      <div class="form-group">
        <label for="city">City</label>
        <select class="form-control" name="city" id="citySelect">
          <% cities.forEach((city) => { %>
            <option value="<%= city %>" <%= city === selectedCity ? 'selected' : '' %>><%= city %></option>
          <% }); %>
        </select>
      </div>
      <div class="form-group">
        <label for="languages">Favorite Languages</label>
        <select class="form-control" multiple="multiple" name="languages" size="3" id="languagesSelect">
          <% languages.forEach((language) => { %>
            <option value="<%= language %>" <%= selectedLanguages.includes(language) ? 'selected' : '' %>><%= language %></option>
          <% }); %>
        </select>
      </div>
      <div class="mb-3">
        <label for="fileInput" class="form-label">Upload File</label>
        <input class="form-control" name="file" type="file" id="fileInput">
      </div>
      <div class="mb-3">
        <label for="pictureInput" class="form-label">Select Picture</label>
        <input class="form-control" name="pic" type="file" id="pictureInput" value="<%= profile %>">
      </div>
      <input class="btn btn-primary" type="submit" value="Submit">
    </form>
  <% } else { %>
    <div class="alert alert-danger" role="alert">
      You are not authorized to access this page. Please <a href="/login">login</a> to continue.
    </div>
  <% } %>
</div>
<%- include('footer'); %>
